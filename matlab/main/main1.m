% msg = '{"type":1,"points":[{"pos":{"x":-99.97778328105028,"y":72.30532700406849,"z":12.017215735436878},"ori":{"x":-0.16217585537589102,"y":0.6782027991766856,"z":0.7167565522002616},"type":1}],"transformable":{"center":{"x":0,"y":24.62082606479067,"z":10},"lenx":90,"leny":70.75834787041866,"lenz":90, "axis":{"x":0,"y":-1,"z":0}},"obstacle":[{"xmax":45,"xmin":-45,"ymax":-10.75834787041866,"ymin":-60,"zmax":55,"zmin":-35}]}';
% msg = '{"type":1,"points":[{"pos":{"x":-99.1108919434389,"y":70.28354697784673,"z":4.335207283513554},"type":1},{"pos":{"x":-66.63603327614362,"y":-4.8580590681566775,"z":91.88202714490136},"ori":{"x":-0.37487163548581354,"y":-0.873071804863296,"z":0.3117962162389696},"type":1}],"transformable":{"center":{"x":0,"y":40.014385498593626,"z":10},"lenx":90,"leny":39.97122900281275,"lenz":90,"axis":{"x":0,"y":-1,"z":0}},"obstacle":[{"xmax":45,"xmin":-45,"ymax":20.02877099718725,"ymin":-60,"zmax":55,"zmin":-35}]}'
tic
% msg = '{"type":1,"points":[{"pos":{"x":-111.34682266547867,"y":66.20324857035783,"z":21.308390276024284},"ori":{"x":-0.12565845300120929,"y":0.9547237075644378,"z":0.26965273112608484},"type":1},{"pos":{"x":-24.569963759192802,"y":-30.11999404280337,"z":97.43519866584225},"ori":{"x":-0.5843713616305837,"y":-0.023482295357293344,"z":0.8111465302340697},"type":1}],"transformable":{"center":{"x":0,"y":35.20102342783167,"z":10},"lenx":90,"leny":49.597953144336664,"lenz":90,"axis":{"x":0,"y":-1,"z":0}},"obstacle":[{"xmax":45,"xmin":-45,"ymax":10.402046855663336,"ymin":-60,"zmax":55,"zmin":-35}]}';
% msg = '{"type":1,"points":[{"pos":{"x":-76.30041128641776,"y":100.21247900754473,"z":-23.395158793351612},"ori":{"x":0,"y":0,"z":0},"type":1},{"pos":{"x":12.088241488968265,"y":9.725802157111048,"z":95.87841005178956},"ori":{"x":0.12285101573562601,"y":0.9862361954660753,"z":-0.11066071879997054},"type":1}],"transformable":{"center":{"x":0,"y":38.105800733086056,"z":10},"lenx":90,"leny":43.78839853382789,"lenz":90,"axis":{"x":0,"y":-1,"z":0}},"obstacle":[{"xmax":45,"xmin":-45,"ymax":16.211601466172112,"ymin":-60,"zmax":55,"zmin":-35}]}';

% msg = '{"type":2,"points":[{"pos":{"x":-265.82958462285734,"y":39.967534941225765,"z":30.98606625513105},"ori":{"x":-0.9941236641335705,"y":-0.09193369156167909,"z":-0.05715187455793572},"type":1}],"transformable":{"center":{"x":0,"y":38.114953614945264,"z":10},"lenx":90,"leny":43.77009277010947,"lenz":90,"axis":{"x":0,"y":-1,"z":0}},"obstacle":[{"xmax":45,"xmin":-45,"ymax":16.22990722989053,"ymin":-60,"zmax":55,"zmin":-35}]}';
% msg = '{"type":2,"points":[{"pos":{"x":-220.24354610433667,"y":25.747945323899472,"z":6.908299912863498},"ori":{"x":0,"y":0,"z":0},"type":3}],"transformable":{"center":{"x":0,"y":19.814932843110142,"z":10},"lenx":90,"leny":80.37013431377972,"lenz":90,"axis":{"x":0,"y":-1,"z":0}},"obstacle":[{"xmax":45,"xmin":-45,"ymax":-20.370134313779715,"ymin":-60,"zmax":55,"zmin":-35}]}'

% msg = '{"type":1,"points":[{"pos":{"x":-49.602067691963626,"y":-52.0806175662557,"z":114.78337987977409},"ori":{"x":-0.12923879316148723,"y":0.07086399473961406,"z":0.9890781711228422},"type":1},{"pos":{"x":-22.634679978380216,"y":106.44784243354067,"z":1.982170811172093},"ori":{"x":0,"y":0,"z":0},"type":1}],"transformable":{"center":{"x":-0.008335901851250327,"y":16.53662730611802,"z":0.06912293080929643},"lenx":108.42010424857787,"leny":56.18553161621094,"lenz":108.98393679831952,"axis":{"x":0,"y":1,"z":0}},"obstacle":[{"xmax":66.07958221435547,"xmin":-66.48841094970703,"ymax":95.51214599609375,"ymin":44.62939311422349,"zmax":55.16474533081055,"zmin":-55.1375846862793},{"xmax":66.07958221435547,"xmin":-66.48841094970703,"ymax":-11.556138501987448,"ymin":-95.52058410644531,"zmax":55.16474533081055,"zmin":-55.1375846862793}]}';

% STAMP example
% msg = '{"type":2,"points":[{"pos":{"x":-91.5304837294428,"y":-56.47557412538278,"z":-3.9800737720786543},"ori":{"x":-0.2750973421952965,"y":-0.9352027875960521,"z":0.2229735374201551},"type":2},{"pos":{"x":2.4100535198498445,"y":-55.93135006790007,"z":-95.80927025342854},"ori":{"x":0.15146918250659902,"y":-0.9766386512333106,"z":-0.15242713560243332},"type":2}],"transformable":{"center":{"x":-0.0000013705039165756716,"y":11.880938799855144,"z":9.5367431640625e-7},"lenx":65.49629791308767,"leny":89.23812240028971,"lenz":45.00000190734863,"axis":{"x":0,"y":-1,"z":0}},"obstacle":[{"xmax":40,"xmin":-40,"ymax":-32.73812240028971,"ymin":-56.5,"zmax":25.000001907348633,"zmin":-25}]}';

% Spatula example
% msg = '{"type":2,"points":[{"pos":{"x":-66.98206977568972,"y":-51.386928123474135,"z":-0.7468848628156621},"ori":{"x":0,"y":0,"z":0},"type":2},{"pos":{"x":-8.435659263171345,"y":-46.591540131782864,"z":-56.35338902323173},"ori":{"x":0,"y":0,"z":0},"type":2}],"transformable":{"center":{"x":0,"y":35.59593107343488,"z":0},"lenx":30,"leny":147.51744266270055,"lenz":40,"axis":{"x":0,"y":-1,"z":0}},"obstacle":[{"xmax":30,"xmin":-30,"ymax":-38.16279025791539,"ymin":-109.35465240478516,"zmax":20,"zmin":-20}]}';

% Stamp
msg = '{"type":2,"points":[{"pos":{"x":-102.52109913089622,"y":-11.243779804715892,"z":0.7550548302646831},"ori":{"x":-0.38447313831358676,"y":-0.8838969583224298,"z":0.2662828815069761},"type":2},{"pos":{"x":-10.22981418285108,"y":-8.212989118601335,"z":-90.7885386810855},"ori":{"x":0.12849036518485646,"y":-0.8762473149634539,"z":-0.4644145444255597},"type":2}],"transformable":{"center":{"x":0,"y":6.278869957546696,"z":0},"lenx":64,"leny":94.94226008490661,"lenz":45,"axis":{"x":0,"y":-1,"z":0}},"obstacle":[{"xmax":40,"xmin":-40,"ymax":-41.19226008490661,"ymin":-53.75,"zmax":25,"zmin":-25}]}';

result = main_func(msg);
toc
